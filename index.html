# lobo_rpg_simulator_v4.py
# Simulador RPG Lobo - Orbes para Deseos de Armaduras Ã‰picas/Legendarias

import random
import time
import os

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#                 ORBES MÃSTICOS
#       (solo sirven para acumular y pedir deseos)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ORBES = [
    "Orbe de Viento Silencioso",
    "Orbe de Sangre Lunar",
    "Orbe del Aullido Ancestral",
    "Orbe de Ceniza Eterna",
    "Orbe del Colmillo Fracturado",
    "Orbe del Primer Lobo",
    "Orbe del Bosque Eterno",
    "Orbe de las Estrellas CaÃ­das",
    "Orbe de la Niebla Eterna",
    "Orbe del Fuego Primordial"
]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#                    CLASE LOBO
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

class Lobo:
    def __init__(self, nombre="Sin nombre"):
        self.nombre = nombre
        self.nivel = 1
        self.xp = 0
        self.xp_para_subir = 100
        self.vida = 100
        self.vida_max = 100
        self.hambre = 0
        self.fuerza = 10
        self.velocidad = 10
        self.dias_vividos = 0
        
        self.orbes = 0                      # Contador total de orbes acumulados
        self.armadura = "Ninguna"           # Estado de la armadura
        self.defensa = 0                    # Puntos de defensa
        self.resistencia_daÃ±o = 0           # % de reducciÃ³n de daÃ±o
        self.regeneracion_extra = 0         # regen adicional por dÃ­a

    def mostrar_estado(self):
        print("\n" + "â•" * 70)
        print(f"ğŸº {self.nombre.upper()} - Nivel {self.nivel}  |  DÃ­a {self.dias_vividos}")
        print(f"Vida:           {self.vida}/{self.vida_max}")
        print(f"Hambre:         {self.hambre}/100")
        print(f"Fuerza:         {self.fuerza}")
        print(f"Velocidad:      {self.velocidad}")
        print(f"Defensa:        {self.defensa}")
        print(f"Resist. daÃ±o:   {self.resistencia_daÃ±o}%")
        print(f"Regen extra/dÃ­a:{self.regeneracion_extra}")
        print(f"Armadura:       {self.armadura}")
        print(f"Orbes acumulados: {self.orbes}/60")
        print("â•" * 70)

    def pasar_dia(self):
        hambre_aumento = random.randint(10, 18)
        self.hambre += hambre_aumento
        
        if self.hambre >= 100:
            dano = random.randint(6, 14)
            dano_reducido = int(dano * (1 - self.resistencia_daÃ±o / 100))
            self.vida -= dano_reducido
            print(f"Â¡Hambre extrema! Pierdes {dano_reducido} vida (defensa aplicada)")
            self.hambre = 100
        
        # RegeneraciÃ³n total
        regen_total = self.regeneracion_extra
        if regen_total > 0:
            regen = min(regen_total, self.vida_max - self.vida)
            self.vida += regen
            if regen > 0:
                print(f"RegeneraciÃ³n: +{regen} vida")

    def encontrar_orbe(self):
        if random.random() > 0.008:  # ~0.8% chance base de encontrar un orbe
            return
            
        self.orbes += 1
        orbe_nombre = random.choice(ORBES)
        print("\n" + "âœ¨" * 12)
        print(f"Â¡ORBES MÃSTICO DESCUBIERTO!")
        print(f"â†’ {orbe_nombre}")
        print(f"   Orbes acumulados ahora: {self.orbes}")
        print("âœ¨" * 12)

    def pedir_deseo_en_santuario(self):
        print("\n" + "ğŸŒŒ" * 10)
        print("EstÃ¡s frente al Altar Ancestral del Santuario...")
        print(f"Orbes disponibles: {self.orbes}")
        print("\nDeseos disponibles:")
        print("  1. Deseo Ã‰pico  â†’ Armadura Ã‰pica     (cuesta 10 orbes)")
        print("  2. Deseo Legendario â†’ Armadura Legendaria (cuesta 60 orbes)")
        print("  0. Cancelar (salir sin pedir nada)")
        
        try:
            eleccion = int(input("\nÂ¿QuÃ© deseo vas a pedir? â†’ "))
            
            if eleccion == 1:
                if self.orbes >= 10:
                    self.orbes -= 10
                    self.armadura = "Armadura Ã‰pica"
                    self.vida_max += 80
                    self.vida = self.vida_max
                    self.defensa += 35
                    self.resistencia_daÃ±o += 20
                    print("\nÂ¡EL BOSQUE RESPONDIÃ“!")
                    print("La Armadura Ã‰pica se materializa alrededor tuyo...")
                    print("+80 vida mÃ¡xima, +35 defensa, +20% resistencia al daÃ±o")
                else:
                    print("No tienes suficientes orbes... necesitas 10")
                    
            elif eleccion == 2:
                if self.orbes >= 60:
                    self.orbes -= 60
                    self.armadura = "Armadura Legendaria"
                    self.vida_max += 180
                    self.vida = self.vida_max
                    self.defensa += 70
                    self.resistencia_daÃ±o += 40
                    self.regeneracion_extra += 15
                    print("\nÂ¡EL PODER SUPREMO DEL BOSQUE TE ENVUELVE!")
                    print("La Armadura Legendaria brilla con luz eterna...")
                    print("+180 vida mÃ¡xima, +70 defensa, +40% resistencia, +15 regen/dÃ­a")
                else:
                    print("AÃºn no estÃ¡s listo... necesitas 60 orbes para el deseo legendario")
                    
            else:
                print("Decides retirarte del altar por ahora...")
                
        except:
            print("El altar permanece en silencio... decides no pedir nada.")
        
        print("ğŸŒŒ" * 10)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#                   EVENTOS Y CAZAS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

def cazar_conejo(lobo):
    if random.random() < 0.75 + (lobo.velocidad * 0.015):
        recuperacion = random.randint(22, 40)
        lobo.hambre = max(0, lobo.hambre - recuperacion)
        lobo.xp += random.randint(35, 65)
        print(f"Â¡Conejo cazado! +{recuperacion} hambre recuperada")
    else:
        print("El conejo fue mÃ¡s rÃ¡pido...")

def cazar_ciervo(lobo):
    prob = 0.35 + (lobo.fuerza * 0.02) + (lobo.nivel * 0.065)
    if random.random() < prob:
        recuperacion = random.randint(70, 120)
        lobo.hambre = max(0, lobo.hambre - recuperacion)
        lobo.xp += random.randint(100, 200)
        print(f"Â¡Ciervo majestuoso abatido! +{recuperacion} hambre, +XP Ã©pico")
        
        if random.random() < 0.45:
            lobo.encontrar_orbe()
    else:
        dano = random.randint(20, 45)
        dano_reducido = int(dano * (1 - lobo.resistencia_daÃ±o / 100))
        lobo.vida -= dano_reducido
        print(f"El ciervo te golpeÃ³... pierdes {dano_reducido} vida (defensa aplicada)")

def evento_aleatorio(lobo):
    eventos = [
        ("Encuentras restos de una gran presa", lambda: lobo.hambre -= random.randint(40, 70)),
        ("Descansas en un lugar mÃ­stico", lambda: setattr(lobo, 'vida', min(lobo.vida_max, lobo.vida + 50))),
        ("Â¡Encuentro peligroso con un oso!", lambda: setattr(lobo, 'vida', lobo.vida - int(random.randint(40, 75) * (1 - lobo.resistencia_daÃ±o / 100)))),
        ("Sientes una energÃ­a poderosa...", lobo.encontrar_orbe),
    ]
    evento = random.choice(eventos)
    print(f"\nEvento: {evento[0]}")
    if callable(evento[1]):
        evento[1]()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#                    MENÃš PRINCIPAL
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

def mostrar_menu():
    print("\nÂ¿QuÃ© harÃ¡s ahora?")
    print(" 1  - Explorar el bosque")
    print(" 2  - Cazar conejo")
    print(" 3  - Cazar ciervo (mayor chance de orbes)")
    print(" 4  - Beber y descansar en el rÃ­o")
    print(" 5  - Ir al Santuario de la Cueva (pedir deseos)")
    print(" 6  - Aullar desafiante")
    print(" e  - Ver estado completo")
    print(" q  - Salir del juego")
    return input("\nâ†’ ").strip().lower()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#                   JUEGO PRINCIPAL
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

def main():
    os.system('cls' if os.name == 'nt' else 'clear')
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
    print("â•‘     LOBO SALVAJE RPG - Orbes y Deseos Legendarios    â•‘")
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")

    nombre = input("Nombre de tu lobo: ").strip() or "Eclipsor"
    lobo = Lobo(nombre)
    lobo.mostrar_estado()

    while lobo.vida > 0:
        opcion = mostrar_menu()

        lobo.dias_vividos += 1
        lobo.pasar_dia()

        if opcion == "1":
            evento_aleatorio(lobo)
        elif opcion == "2":
            cazar_conejo(lobo)
        elif opcion == "3":
            cazar_ciervo(lobo)
        elif opcion == "4":
            lobo.hambre = max(0, lobo.hambre - 18)
            lobo.vida = min(lobo.vida_max, lobo.vida + random.randint(10, 25))
            print("Agua y descanso... mejoras moderadas")
        elif opcion == "5":
            lobo.pedir_deseo_en_santuario()
        elif opcion == "6":
            if random.random() < 0.60 + (lobo.nivel * 0.02):
                print("Â¡Un rival responde a tu aullido!")
                if random.random() < 0.55:
                    lobo.xp += random.randint(90, 170)
                    print("Â¡Victoria! +XP")
                    if random.random() < 0.25:
                        lobo.encontrar_orbe()
                else:
                    dano = random.randint(25, 55)
                    dano_reducido = int(dano * (1 - lobo.resistencia_daÃ±o / 100))
                    lobo.vida -= dano_reducido
                    print(f"Â¡Heridas graves! Pierdes {dano_reducido} vida")
            else:
                print("El bosque permanece en silencio...")
        elif opcion == "e":
            pass
        elif opcion in ["q", "salir"]:
            break

        if lobo.xp >= lobo.xp_para_subir:
            lobo.nivel += 1
            lobo.xp = 0
            lobo.xp_para_subir = int(lobo.xp_para_subir * 1.75)
            lobo.vida_max += random.randint(25, 40)
            lobo.vida = lobo.vida_max
            lobo.fuerza += random.randint(6, 14)
            lobo.velocidad += random.randint(5, 12)
            print(f"\nâ˜… NIVEL {lobo.nivel} ALCANZADO â˜…")

        lobo.mostrar_estado()
        time.sleep(0.5)

    print("\n" + "â•" * 80)
    print(f"  La leyenda de {lobo.nombre} terminÃ³ tras {lobo.dias_vividos} dÃ­as...")
    if lobo.armadura != "Ninguna":
        print(f"  PartiÃ³ portando la {lobo.armadura}")
    print("â•" * 80)

if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\nEl lobo se desvanece entre la niebla del bosque...\n")
